<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Coastal Drive - 주소 검색 테스트</title>
  <script>
    async function searchAddress() {
      const addrInput = document.getElementById("address");
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "<p>검색 중...</p>";

      const address = addrInput.value;
      const res = await fetch(`/api/geocode?address=${encodeURIComponent(address)}`);
      const data = await res.json();

      if (data.status === "success") {
        resultDiv.innerHTML = `
          <p><strong>도로명 주소:</strong> ${data.roadAddress}</p>
          <p><strong>지번 주소:</strong> ${data.jibunAddress}</p>
          <p><strong>좌표:</strong> 위도 ${data.lat}, 경도 ${data.lon}</p>
        `;
      } else if (data.status === "retry") {
        resultDiv.innerHTML = `
          <p>검색 실패. 혹시 <strong>'${data.suggested}'</strong> 를 원하셨나요?</p>
        `;
      } else {
        resultDiv.innerHTML = `<p>검색 실패: ${data.message}</p>`;
      }
    }
  </script>
</head>
<body>
  <h2>주소 검색 테스트</h2>
  <input type="text" id="address" value="세종특별자치시 한누리대로 2130" size="50">
  <button onclick="searchAddress()">주소 검색</button>
  <div id="result"></div>
</body>
</html>
